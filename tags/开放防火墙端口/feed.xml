<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>开放防火墙端口 on Jingmin's blog</title><link>https://ole12138.gitee.io/tags/%E5%BC%80%E6%94%BE%E9%98%B2%E7%81%AB%E5%A2%99%E7%AB%AF%E5%8F%A3/</link><description>Recent content in 开放防火墙端口 on Jingmin's blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Copyright (c) 2020, Jingmin; All rights reserved.</copyright><lastBuildDate>Sat, 03 Apr 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://ole12138.gitee.io/tags/%E5%BC%80%E6%94%BE%E9%98%B2%E7%81%AB%E5%A2%99%E7%AB%AF%E5%8F%A3/feed.xml" rel="self" type="application/rss+xml"/><item><title>远程查看数据库的方法</title><link>https://ole12138.gitee.io/post/%E8%BF%90%E7%BB%B4/%E8%BF%9C%E7%A8%8B%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%96%B9%E6%B3%95%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F_%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84_%E5%BC%80%E6%94%BE%E9%98%B2%E7%81%AB%E5%A2%99%E7%AB%AF%E5%8F%A3/</link><pubDate>Sat, 03 Apr 2021 00:00:00 +0000</pubDate><guid>https://ole12138.gitee.io/post/%E8%BF%90%E7%BB%B4/%E8%BF%9C%E7%A8%8B%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%96%B9%E6%B3%95%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F_%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84_%E5%BC%80%E6%94%BE%E9%98%B2%E7%81%AB%E5%A2%99%E7%AB%AF%E5%8F%A3/</guid><description>远程查看数据库的方法 项目部署在独立的内网中。内网可以连通Internet，但是经过了nat和防火墙。一般对方会提供一台内网主机（192.168.1.2）供远程连接。
现在想要查看这个内网中数据库的数据。
方法一：在远程连接到的主机（192.168.1.2）上查看
通过远程连接工具（向日葵、dodesk、teamviewer等）可以远程操作这台电脑。然后在这台电脑上访问内网上的服务器、数据库等。
如果要在这台内网主机上访问数据库，还需要在这台主机上安装数据库客户端。
方法二：内网穿透加端口映射
第一次远程连接内网主机（192.168.1.2）时，运行脚本和程序： 1.内网主机（192.168.1.5）数据库端口3306映射到当前主机（192.168.1.2）端口13306， 2.内网主机（192.168.1.2）打开防火墙对端口13306的入站限制。 3.下载和配置内网穿透工具frp客户端，将内网主机（192.168.1.2）端口13306，映射为公网vps的x.x.x.x:13306. 同时vps上也要配置frp服务端。
然后我们直接就可以在公网（本机）上访问x.x.x.x:13306访问内网数据库了。
下面实现了一下 方法二
Windows内网主机端口映射以及防火墙开放端口 这里主要实现一下在windows中添加端口映射，以及为相应的端口打开防火墙。我把这个过程写成一个bat脚本，以管理员权限运行一下即可。注释挺多的，其实涉及的命令没几条。
rem @echo off rem ****************************************************************************************** rem 场景： rem 远程/外网可以访问到本机（teamviewer、向日葵、doDesk等远程连接，或者frp、ngrok、花生壳等内网穿透） rem 远程/外网想要通过本机访问本地网络上的数据库或其他端口 rem ******************************************************************************************* rem 分析： rem 若外网主机可以访问到本机，想通过本机访问局域网其他主机上的端口，一般有两种方法： rem 1.在本机上安装数据库客户端，外网主机和本机的客户端交互 rem 2.通过端口映射，将局域网其他主机端口映射到本机端口。 rem ******************************************************************************************* rem 功能： rem 在本机上添加：到局域网特定主机端口的映射（数据转发/端口转发） rem ******************************************************************************************* rem 变量设置： rem 参考：https://blog.csdn.net/chuangxin/article/details/104100725 setlocal rem 本地监听端口 set LISTENPORT=13306 rem 映射到的主机IP set CONNECTADDR=192.168.1.21 rem 映射到的主机端口 set CONNECTPORT=3306 rem ----------------------------------------------------------------------------- rem 跳转到此批处理所在目录 cd /d %~dp0 rem ----------------------------------------------------------------------------- rem 使用netsh工具，必须电脑上安装ipv6 rem xp需要这一步骤 netsh interface ipv6 install rem 设置端口映射 rem 参考：https://segmentfault.</description></item></channel></rss>